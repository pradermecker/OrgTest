#+TITLE: TODO CICD
#+LaTeX_CLASS: pi3r-org-article
#+TAGS: jenkins(j) docker(d) salt(s) pgserver(g) pulp(u) puppet(p)
#+LaTeX_CLASS_OPTIONS: [koma,a4paper,10pt,numbers=endperiod,listings-es,microtype,paralist,colorlinks=true,urlcolor=blue]
#+LaTeX_HEADER: \usepackage{paralist}
#+LaTeX_HEADER: \usepackage{titlesec}
#+LaTeX_HEADER: \titleformat{\subsection} {\normalfont\bfseries}{\thesubsection}{1em}{}
#+LaTeX_HEADER: \let\description\compactdesc
#+LaTeX_HEADER: \let\enumerate\compactenum
#+LaTeX_HEADER: \usepackage[scaled]{berasans}
#+LaTeX_HEADER: \usepackage[cache=false]{minted}
#+LaTeX_HEADER: \usemintedstyle{emacs}
#+OPTIONS: H:2 num:1 tags:nil tasks:todo todo:nil e:t d:nil p:nil -:t ::t \n:nil f:t *:t <:t

:Rational:
This document structure is strict:
- one level rendered as header
- second level is TODO using [%]
- third level is checkbox (and consequently cannot be scheduled or tagged)
When exporting:
- DONE items are removed (see `tasks` option)
- TODO items are subsection (see `H` option) and `titlesec` is used to customize its appearance
:END:

* Orchestration
** TODO configure Salt master in prod/staging/testing [0%]
- [ ] Change 'pg_hba' configuration
In the pgserver we need to accept all traffic from 195.244.162.100
to allow the testing and staging saltmaster to connect.
** TODO support other stacks [%]
- [ ] BOS
** TODO add scripts [0%]
- [ ] Remove certs                                              :salt:puppet:
** TODO documentation [%]
- [ ] SOP
* Puppet 3
** TODO update middleware servers to CentOS 7.2
All servers can be upgraded except the jenkins/slaves
- [ ] Upgrades all servers but jenkins/slaves
- [ ] Create a docker image for Pulp Admin                   :jenkins:docker:
** TODO Middleware stack migration
** TODO Migrate all jenkins slaves                          :jenkins:puppet:
[deps on project]
** TODO Migrate all other stacks
[deps on projects]
** TODO SOP
* Support/Services
** Improve the puppet stack update process
** support CICD for "projects"
** Update the Jenkins master
* Improve the feedback loop
** TODO Replace cron with push in testing [0/2]         :jenkins:salt:puppet:
- [ ] in testing
- [ ] in prod
** TODO Improve build time                                         :jenkins:
* GPG
Infrastructure to protect all sensitive configuration data (hiera)
** TODO spread usage to all stacks
[deps on projects]
* Docker
** DONE Configure registry in testing                               :docker:
CLOSED: [2016-03-24 Thu 17:19]
** Jenkins
- [ ] new jobs to build images                               :jenkins:docker:
- [ ] new specific repo to build images                              :docker:
- [ ] Change librarian to write on disk with the local userid :docker:puppet:
** TODO SOP
* Reporting
** TODO Setup and configure Foreman
** TODO [[http://postgrest.com][PostgreREST]]
* VCloud API
Extension des points de service via l'API
* TOS usage [Boris]
** TODO Nexus
** TODO use puppet to setup pgserver
** TODO use puppet to setup pgpool
** TODO use puppet to setup Postgresql
** TODO use puppet to setup Alfresco (2017 ?)
